# Comprehensive Grammar Test File - Simplified to avoid hanging
# Tests core grammar constructs without problematic patterns

# SECTION 1: LITERALS
let test_int = 0 in
let test_int_pos = 42 in
let test_int_neg = -42 in
let test_float = 0.0 in
let test_float_pos = 3.14 in
let test_string_empty = "" in
let test_string = "hello" in
let test_bool_true = true in
let test_bool_false = false in

# SECTION 2: IDENTIFIERS
let simple_var = 10 in
let snake_case = 20 in
let with_numbers123 = 30 in

# SECTION 3: ARITHMETIC
let test_add = 1 + 2 in
let test_sub = 10 - 5 in
let test_mul = 3 * 4 in
let test_div = 8 / 2 in
let test_chained_add = 1 + 2 + 3 in
let test_mixed = 1 + 2 * 3 in
let test_parens = (1 + 2) * 3 in
let test_unary_minus = -5 in

# SECTION 4: COMPARISON
let test_eq = 1 == 1 in
let test_ne = 1 != 2 in
let test_gt = 5 > 3 in
let test_lt = 3 < 5 in
let test_gte = 5 >= 5 in
let test_lte = 3 <= 5 in

# SECTION 5: LOGICAL
let test_and = true && true in
let test_or = true || false in
let test_mixed_logical = (true && false) || true in

# SECTION 6: LET BINDINGS
let test_simple_let = let x = 10 in x in
let test_cascading_let = let x = 10 in let y = 20 in x + y in
let test_nested_let = let outer = 100 in let inner = let temp = 50 in temp * 2 in outer + inner in

# SECTION 7: FUNCTIONS
let test_simple_func = \x x + 1 in
let test_curried_func = \x \y x + y in
let test_anonymous_func = (\x x * 2) 10 in
let test_func_application = let add = \x \y x + y in add 5 3 in

# SECTION 8: CONDITIONALS
let test_simple_if = if true then "yes" else "no" in
let test_if_with_expr = if 5 > 3 then 10 else 20 in
let test_nested_if = if true then (if false then 1 else 2) else 3 in

# SECTION 9: LISTS
let test_empty_list = [] in
let test_single_list = [1] in
let test_multi_list = [1, 2, 3] in
let test_mixed_list = [1, "hello", true, 3.14] in
let test_nested_list = [[1, 2], [3, 4]] in

# SECTION 10: RANGES
let test_simple_range = [1 .. 5] in
let test_range_zero = [0 .. 0] in
let test_range_large = [10 .. 15] in
let test_range_with_step = [0, 2 .. 10] in

# SECTION 11: DICTIONARIES
let test_empty_dict = {} in
let test_simple_dict = {a: 1} in
let test_multi_dict = {a: 1, b: 2, c: 3} in
let test_mixed_dict = {name: "Alice", age: 30, active: true} in
let test_nested_dict = {outer: {inner: 42}} in

# SECTION 12: TEMPLATES
let test_simple_template = {"hello"} in
let test_template_multi = {"hello world"} in

# SECTION 13: PATHS
let test_absolute_path = @/absolute/path/to/file in
let test_relative_path = @relative/path/to/file in

# SECTION 14: MEMBER ACCESS
let test_member_access = let d = {a: 1, b: 2} in d.a in
let test_nested_member = let d = {outer: {inner: 42}} in d.outer.inner in

# SECTION 15: PIPES
let test_simple_pipe = "hello" -> upper in
let test_pipe_chain = "hello" -> upper -> length in
let test_pipe_with_func = [1, 2, 3] -> length in

# SECTION 16: FUNCTION APPLICATION
let test_simple_app = length [1, 2, 3] in
let test_nested_app = map (\x x * 2) [1, 2, 3] in
let test_complex_app = fold (\acc \x acc + x) 0 [1, 2, 3] in

# SECTION 17: PRECEDENCE
let test_precedence_1 = 1 + 2 * 3 in
let test_precedence_2 = (1 + 2) * 3 in
let test_precedence_3 = true && false || true in

# Final result
"success"
